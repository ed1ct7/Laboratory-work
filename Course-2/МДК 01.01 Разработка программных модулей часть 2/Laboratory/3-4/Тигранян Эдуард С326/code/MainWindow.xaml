<Window x:Class="code.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:code"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800">

    <Window.Resources>
        <Style TargetType="MenuItem">
            <Setter Property="Foreground" Value="Navy"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Foreground" Value="Orange"/>
                    <Setter Property="Background" Value="Navy"/>
                    <Setter Property="FontWeight" Value="Bold"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="Button">
            <Setter Property="Foreground" Value="Navy"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Margin" Value="2"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Foreground" Value="Orange"/>
                    <Setter Property="Background" Value="Navy"/>
                    <Setter Property="BorderBrush" Value="Navy"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="ToolBar">
            <Setter Property="Background" Value="WhiteSmoke"/>
            <Setter Property="BorderBrush" Value="Navy"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Margin" Value="0,2,0,2"/>
        </Style>

        <Style TargetType="ComboBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Foreground" Value="Navy"/>
            <Setter Property="BorderBrush" Value="Navy"/>
        </Style>

        <Style TargetType="Label">
            <Setter Property="Foreground" Value="Navy"/>
            <Setter Property="Margin" Value="5,0,0,0"/>
        </Style>

        <Style TargetType="RadioButton">
            <Setter Property="Foreground" Value="Navy"/>
            <Setter Property="Margin" Value="5,0,0,0"/>
        </Style>

        <Style TargetType="Slider">
            <Setter Property="Margin" Value="5"/>
        </Style>

        <Style TargetType="TextBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="BorderBrush" Value="Navy"/>
        </Style>

        <Style TargetType="StatusBar">
            <Setter Property="Background" Value="WhiteSmoke"/>
            <Setter Property="BorderBrush" Value="Navy"/>
            <Setter Property="BorderThickness" Value="1,1,0,0"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"></RowDefinition>
            <RowDefinition Height="auto"></RowDefinition>
            <RowDefinition Height="auto"></RowDefinition>
            <RowDefinition></RowDefinition>
            <RowDefinition Height="auto"></RowDefinition>
        </Grid.RowDefinitions>

        <Menu Background="White" BorderBrush="Navy" BorderThickness="1" Grid.Row="0">
            <MenuItem Header="_Файл">
                <MenuItem Header="_Закрыть"  
                    ToolTip="Закрыть приложение"
                    InputGestureText="Alt+F4"
                    MouseLeave="MenuItem_MouseLeave" 
                    MouseEnter="MenuItem_MouseEnter" 
                    Click="MenuItem_Click"
                    Tag="Закрытие приложения"/>
            </MenuItem>

            <MenuItem Header="_Цвет фона"
                      MouseLeave="MenuItem_MouseLeave" MouseEnter="MenuItem_MouseEnter" Tag="Изменение цвета фона">
                <MenuItem Header="_Красный" Click="ChangeBackgroundColor" 
                          Tag="Red" ToolTip="Изменить цвет фона на красный"/>
                <MenuItem Header="_Зеленый" Click="ChangeBackgroundColor" 
                          Tag="Green" ToolTip="Изменить цвет фона на зеленый"/>
                <MenuItem Header="_Синий" Click="ChangeBackgroundColor" 
                          Tag="Blue" ToolTip="Изменить цвет фона на синий"/>
                <Separator/>
                <MenuItem Header="_Сброс" Click="ChangeBackgroundColor" 
                          Tag="White" ToolTip="Вернуть белый цвет фона"/>
            </MenuItem>
            <MenuItem Header="_О программе"
                      ToolTip="О программе" 
                      Click="MenuItem_Click" 
                      MouseLeave="MenuItem_MouseLeave" 
                      MouseEnter="MenuItem_MouseEnter" 
                      Tag="О программе"/>
        </Menu>

        <StackPanel Grid.Row="1" Orientation="Horizontal">
            <ToolBar>
                <Button Content="Закрыть"
                        Tag="Закрытие приложения"
                        ToolTip="Закрыть приложение"
                        MouseLeave="MenuItem_MouseLeave" 
                        MouseEnter="MenuItem_MouseEnter" 
                        Click="MenuItem_Click"/>
                <Button Content="О программе"
                        Click="MenuItem_Click" 
                        ToolTip="О программе"
                        MouseLeave="MenuItem_MouseLeave" 
                        MouseEnter="MenuItem_MouseEnter" 
                        Tag="О программе"/>

                <Label Content="Цвет фона:" VerticalAlignment="Center"/>
                <ComboBox SelectedValuePath="Tag" SelectionChanged="ColorChanged">
                    <ComboBoxItem Tag="White">Белый</ComboBoxItem>
                    <ComboBoxItem Tag="Red">Красный</ComboBoxItem>
                    <ComboBoxItem Tag="Green">Зеленый</ComboBoxItem>
                    <ComboBoxItem Tag="Blue">Синий</ComboBoxItem>
                    <ComboBoxItem Tag="Yellow">Желтый</ComboBoxItem>
                </ComboBox>
            </ToolBar>
        </StackPanel>

        <!-- Toolbar для редактирования кисти -->
        <ToolBar Grid.Row="2">
            <Label Content="Цвет кисти:"/>
            <ComboBox x:Name="BrushColorComboBox" Width="100" SelectedIndex="0">
                <ComboBoxItem Tag="Red">Красный</ComboBoxItem>
                <ComboBoxItem Tag="Blue">Синий</ComboBoxItem>
                <ComboBoxItem Tag="Green">Зеленый</ComboBoxItem>
                <ComboBoxItem Tag="Black">Черный</ComboBoxItem>
                <ComboBoxItem Tag="Yellow">Желтый</ComboBoxItem>
            </ComboBox>

            <Label Content="Размер кисти:" Margin="10,0,0,0"/>

            <Slider x:Name="BrushSizeSlider" Width="100" Minimum="1" Maximum="50" Value="{Binding BrushSize, Mode=TwoWay}" 
                    ValueChanged="BrushSizeSlider_ValueChanged"/>

            <TextBox x:Name="BrushSizeTextBox" Width="30" 
                    Text="{Binding BrushSize, StringFormat={}{0:F0}, UpdateSourceTrigger=PropertyChanged}" 
                    TextAlignment="Center"/>

            <RadioButton x:Name="DrawRadioButton" Content="Рисование" GroupName="InkMode" 
                         IsChecked="True" Checked="ModeRadioButton_Checked" Margin="10,0,0,0"/>
            <RadioButton x:Name="EditRadioButton" Content="Редактирование" GroupName="InkMode" 
                         Checked="ModeRadioButton_Checked"/>
            <RadioButton x:Name="EraseRadioButton" Content="Удаление" GroupName="InkMode" 
                         Checked="ModeRadioButton_Checked"/>
        </ToolBar>

        <InkCanvas Grid.Row="3" x:Name="InkCanvas">
            <InkCanvas.DefaultDrawingAttributes>
                <DrawingAttributes Color="Red" Height="5" Width="5"/>
            </InkCanvas.DefaultDrawingAttributes>
        </InkCanvas>

        <StatusBar DockPanel.Dock="Bottom" VerticalAlignment="Bottom" Grid.Row="4">
            <TextBlock x:Name="StatusBarLeft" Text="" />
            <StatusBarItem HorizontalAlignment="Right">
                <TextBlock x:Name="StatusBarRight" Text="" />
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>